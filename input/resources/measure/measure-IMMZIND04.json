{
  "resourceType": "Measure",
  "id": "IMMZIND04",
  "meta": {
    "profile": [ "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/computable-measure-cqfm" ]
  },
  "extension": [ {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-softwaresystem",
    "valueReference": {
      "reference": "Device/cqf-tooling"
    }
  }, {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-parameter",
    "valueParameterDefinition": {
      "name": "Measurement Period",
      "use": "in",
      "min": 0,
      "max": "1",
      "type": "Period"
    }
  }, {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-parameter",
    "valueParameterDefinition": {
      "name": "Numerator",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "boolean"
    }
  }, {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-parameter",
    "valueParameterDefinition": {
      "name": "Denominator",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "boolean"
    }
  }, {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-parameter",
    "valueParameterDefinition": {
      "name": "Geographic Region Stratifier",
      "use": "out",
      "min": 0,
      "max": "1",
      "type": "string"
    }
  }, {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-dataRequirement",
    "valueDataRequirement": {
      "type": "Immunization",
      "profile": [ "http://hl7.org/fhir/StructureDefinition/Immunization" ],
      "mustSupport": [ "protocolApplied", "protocolApplied.doseNumber", "occurrence", "vaccineCode", "status" ],
      "codeFilter": [ {
        "path": "vaccineCode",
        "valueSet": "http://fhir.org/guides/who/smart-immunize/ValueSet/mcvvaccine-values"
      } ]
    }
  }, {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-dataRequirement",
    "valueDataRequirement": {
      "type": "ImmunizationRecommendation",
      "profile": [ "http://hl7.org/fhir/StructureDefinition/ImmunizationRecommendation" ],
      "mustSupport": [ "recommendation" ]
    }
  }, {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-dataRequirement",
    "valueDataRequirement": {
      "type": "Location",
      "profile": [ "http://hl7.org/fhir/StructureDefinition/Location" ],
      "mustSupport": [ "address", "id" ]
    }
  }, {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
    "extension": [ {
      "url": "libraryName",
      "valueString": "IMMZIND04"
    }, {
      "url": "name",
      "valueString": "Numerator"
    }, {
      "url": "statement",
      "valueString": "/*\n * Numerator: The number of persons with a confirmed dose of MCV2 and no confirmed dose of MCV1 where MCV1 is overdue.\n * Numerator Computation: COUNT the number of persons with confirmed MCV1 dose administration and no confirmed MCV2 dose administration (having MCV2 overdue)\n */define \"Numerator\":\n    exists // Patient DID receive MCV1 before the measurement period\n        (\n            [Immunization: vaccineCode in IMMZc.\"MCV Vaccine\"] I\n            where IMMZCom.ToDate(I.occurrence) < start of \"Measurement Period\"\n                and IMMZCom.Only(I.protocolApplied).doseNumber = 1\n                and I.status = 'completed'\n        ) \n    and exists // Patient HAS an Immunization Recommendation for MCV 2 during the measurement period\n        (\n            [ImmunizationRecommendation] I\n            where I.recommendation.select(vaccineCode in IMMZc.\"MCV Vaccine\"\n                and dateCriterion.select(IMMZCom.ToDateTime(value) between start of \"Measurement Period\" and end of \"Measurement Period\" ).anyTrue() \n                and doseNumber = 2).anyTrue()\n        ) \n    and not exists// Patient DID NOT receive MCV2 during measurement period\n        (\n            [Immunization: vaccineCode in IMMZc.\"MCV Vaccine\"] I\n            where IMMZCom.ToDate(I.occurrence) during \"Measurement Period\"\n                and IMMZCom.Only(I.protocolApplied).doseNumber = 2\n                and I.status = 'completed'\n        )"
    }, {
      "url": "displaySequence",
      "valueInteger": 0
    } ]
  }, {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
    "extension": [ {
      "url": "libraryName",
      "valueString": "IMMZIND04"
    }, {
      "url": "name",
      "valueString": "Denominator"
    }, {
      "url": "statement",
      "valueString": "/*\n * Denominator:  Total number of persons who have received an MCV1 administration.\n * Denominator Computation: COUNT number of persons with administered MCV1 dose and should have received MCV2.\n */define \"Denominator\":\n   exists // Patient DID receive MCV1 before the measurement period\n        (\n            [Immunization: vaccineCode in IMMZc.\"MCV Vaccine\"] I\n            where IMMZCom.ToDate(I.occurrence) < start of \"Measurement Period\"\n                and IMMZCom.Only(I.protocolApplied).doseNumber = 1\n                and I.status = 'completed'\n        ) \n    and exists \n        ( // Patient HAS an Immunization Recommendation for MCV 1 during the measurement period\n            [ImmunizationRecommendation] I\n            where I.recommendation.select(vaccineCode in IMMZc.\"MCV Vaccine\"\n                and dateCriterion.select(IMMZCom.ToDateTime(value) between start of \"Measurement Period\" and end of \"Measurement Period\" ).anyTrue() \n                and doseNumber = 2).anyTrue()\n        )"
    }, {
      "url": "displaySequence",
      "valueInteger": 1
    } ]
  }, {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
    "extension": [ {
      "url": "libraryName",
      "valueString": "IMMZCommonIzDataElements"
    }, {
      "url": "name",
      "valueString": "Geographic Region"
    }, {
      "url": "statement",
      "valueString": "// @dataElement: Geographic Region where the vaccination was provideddefine \"Geographic Region\": \n    WCom.Official([Location] L \n        where L.id = Last(Split(Immunization.location.reference, '/'))\n        return L.address).state"
    }, {
      "url": "displaySequence",
      "valueInteger": 2
    } ]
  }, {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
    "extension": [ {
      "url": "libraryName",
      "valueString": "IMMZStratifiers"
    }, {
      "url": "name",
      "valueString": "By Geographic Region Stratifier"
    }, {
      "url": "statement",
      "valueString": "define \"By Geographic Region Stratifier\":\n    IMMZCommonDataElements.\"Geographic Region\""
    }, {
      "url": "displaySequence",
      "valueInteger": 3
    } ]
  }, {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-logicDefinition",
    "extension": [ {
      "url": "libraryName",
      "valueString": "IMMZIND04"
    }, {
      "url": "name",
      "valueString": "Geographic Region Stratifier"
    }, {
      "url": "statement",
      "valueString": "/*\n * Disaggregator: Geographic District \n */define \"Geographic Region Stratifier\":\n    IMMZStratifiers.\"By Geographic Region Stratifier\""
    }, {
      "url": "displaySequence",
      "valueInteger": 4
    } ]
  } ],
  "name": "IMMZ.IND.04",
  "title": "Dropout Rate of MCV1 to MCV2",
  "date": "2021-12-09T14:05:16-05:00",
  "description": "The number of patients who started the MCV vaccination schedule however did not complete it. This is an indicator which illustrates the ability of the jurisdiction to immunize persons beyond childhood.",
  "relatedArtifact": [ {
    "type": "depends-on",
    "display": "Library IMMZc",
    "resource": "http://fhir.org/guides/who/immz/Library/IMMZConcepts"
  }, {
    "type": "depends-on",
    "display": "Library FHIRHelpers",
    "resource": "http://fhir.org/guides/who/immz/Library/FHIRHelpers|4.0.1"
  }, {
    "type": "depends-on",
    "display": "Library IMMZCom",
    "resource": "http://fhir.org/guides/who/immz/Library/IMMZCommon"
  }, {
    "type": "depends-on",
    "display": "Library IMMZStratifiers",
    "resource": "http://fhir.org/guides/who/immz/Library/IMMZStratifiers"
  }, {
    "type": "depends-on",
    "display": "Library IMMZCommonDataElements",
    "resource": "http://fhir.org/guides/who/immz/Library/IMMZCommonIzDataElements"
  }, {
    "type": "depends-on",
    "display": "Library WCom",
    "resource": "http://fhir.org/guides/who/immz/Library/WHOCommon"
  }, {
    "type": "depends-on",
    "display": "Value set MCV Vaccine",
    "resource": "http://fhir.org/guides/who/smart-immunize/ValueSet/mcvvaccine-values"
  } ],
  "library": [ "http://fhir.org/guides/who/immz/Library/IMMZIND04" ],
  "scoring": {
    "coding": [ {
      "system": "http://terminology.hl7.org/CodeSystem/measure-scoring",
      "code": "proportion"
    } ]
  },
  "type": [ {
    "coding": [ {
      "system": "http://terminology.hl7.org/CodeSystem/measure-type",
      "code": "process"
    } ]
  } ],
  "improvementNotation": {
    "coding": [ {
      "system": "http://terminology.hl7.org/CodeSystem/measure-improvement-notation",
      "code": "decrease"
    } ]
  },
  "group": [ {
    "id": "IMMZIND04",
    "population": [ {
      "id": "denominator",
      "code": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/measure-population",
          "code": "denominator"
        } ]
      },
      "criteria": {
        "language": "text/cql-identifier",
        "expression": "Denominator"
      }
    }, {
      "id": "numerator",
      "code": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/measure-population",
          "code": "numerator"
        } ]
      },
      "criteria": {
        "language": "text/cql-identifier",
        "expression": "Numerator"
      }
    } ],
    "stratifier": [ {
      "id": "by-geographic-region",
      "criteria": {
        "expression": "Geographic Region Stratifier"
      }
    } ]
  } ]
}